<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DOM</title>
    <script>
      let timeout;
      function debounceCalculateSum() {
        //clearTimeout(timeout) cancels the previous timeout
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          calculateSum();
        }, 1000);
      }
      function calculateSum() {
        // const element = document.getElementById("finalSum");
        // element.innerHTML = "Hello World!";

        const a = document.getElementById("num1").value;
        const b = document.getElementById("num2").value;
        const element = document.getElementById("finalSum");
        // element.innerHTML = parseInt(a) + parseInt(b);
        fetch(`http://localhost:3000/sum?a=${a}&b=${b}`).then((res) => {
          res.text().then((ans) => {
            document.getElementById("finalSum").innerHTML = ans;
          });
        });
      }
    </script>
  </head>
  <body>
    <input
      oninput="debounceCalculateSum()"
      id="num1"
      type="text"
      placeholder="Enter a number"
    />
    <br /><br />
    <input
      oninput="debounceCalculateSum()"
      id="num2"
      type="text"
      placeholder="Enter another number"
    />
    <div id="finalSum"></div>
  </body>
</html>

<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>DOM</title>
    <style>
      .container {
        background-color: red;
        margin: 100;
        padding: 20;
        color: white;
        font-size: 20;
      }
      #container2 {
        background-color: goldenrod;
        margin: 100;
        padding: 20;
        color: white;
        font-size: 20;
      }
    </style>
  </head>
  <body>
    <div class="container">Hi there class1</div>
    <div class="container">How are you? class2</div>
    <div id="container2">id 1</div>
    <div id="container2">id 2</div>
  </body>
</html> -->
